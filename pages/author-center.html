<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <title>ä½œè€…ä¸­å¿ƒ - SVTR</title>
  <meta name="description" content="SVTRä½œè€…ä¸­å¿ƒï¼Œåˆ›ä½œå’Œç®¡ç†æ‚¨çš„AIåˆ›æŠ•å†…å®¹">
  
  <link rel="stylesheet" href="../assets/css/style-optimized.css">
  <link rel="icon" type="image/x-icon" href="../assets/images/favicon.ico">
  
  <!-- å¯Œæ–‡æœ¬ç¼–è¾‘å™¨æ ·å¼ -->
  <style>
    #editor {
      min-height: 400px;
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 15px;
      background: #fff;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      font-size: 14px;
      line-height: 1.6;
      overflow-y: auto;
      resize: vertical;
    }
    #editor:focus {
      outline: none;
      border-color: #007bff;
      box-shadow: 0 0 0 3px rgba(0, 123, 255, 0.1);
    }
    
    .editor-toolbar {
      border: 1px solid #ddd;
      border-bottom: none;
      border-radius: 8px 8px 0 0;
      background: #f8f9fa;
      padding: 8px;
      display: flex;
      gap: 5px;
      flex-wrap: wrap;
    }
    
    .editor-btn {
      background: none;
      border: 1px solid transparent;
      padding: 5px 8px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
    }
    
    .editor-btn:hover {
      background: #e9ecef;
      border-color: #dee2e6;
    }
    
    .editor-btn.active {
      background: #007bff;
      color: white;
    }
  </style>
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #f8f9fa;
      color: #333;
    }

    .author-layout {
      display: flex;
      min-height: 100vh;
    }

    /* ä¾§è¾¹æ  */
    .author-sidebar {
      width: 280px;
      background: white;
      border-right: 1px solid #e9ecef;
      position: fixed;
      height: 100vh;
      overflow-y: auto;
      z-index: 100;
    }

    .author-profile {
      padding: 30px 20px;
      border-bottom: 1px solid #e9ecef;
      text-align: center;
    }

    .author-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 2rem;
      font-weight: 600;
      margin: 0 auto 15px;
    }

    .author-name {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 5px;
    }

    .author-role {
      color: #666;
      font-size: 0.9rem;
    }

    .author-stats {
      display: flex;
      justify-content: space-around;
      margin-top: 20px;
      padding-top: 15px;
      border-top: 1px solid #f0f0f0;
    }

    .stat-item {
      text-align: center;
    }

    .stat-number {
      font-size: 1.3rem;
      font-weight: 600;
      color: #FA8C32;
    }

    .stat-label {
      font-size: 0.8rem;
      color: #666;
      margin-top: 2px;
    }

    /* å¯¼èˆªèœå• */
    .author-nav {
      padding: 20px 0;
    }

    .nav-item {
      display: flex;
      align-items: center;
      padding: 12px 20px;
      color: #666;
      text-decoration: none;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .nav-item:hover {
      background: #f8f9fa;
      color: #FA8C32;
    }

    .nav-item.active {
      background: rgba(250, 140, 50, 0.1);
      color: #FA8C32;
      border-right: 3px solid #FA8C32;
    }

    .nav-icon {
      font-size: 1.1rem;
      margin-right: 12px;
      width: 20px;
      text-align: center;
    }

    /* ä¸»å†…å®¹åŒº */
    .author-main {
      flex: 1;
      margin-left: 280px;
      padding: 30px;
    }

    .page-header {
      display: flex;
      justify-content: between;
      align-items: center;
      margin-bottom: 30px;
    }

    .page-title {
      font-size: 1.8rem;
      font-weight: 600;
      color: #2c3e50;
    }

    .page-subtitle {
      color: #666;
      margin-top: 5px;
    }

    .header-actions {
      display: flex;
      gap: 15px;
    }

    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .btn-primary {
      background: linear-gradient(135deg, #FA8C32, #FF7519);
      color: white;
    }

    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(250, 140, 50, 0.3);
    }

    .btn-secondary {
      background: white;
      color: #666;
      border: 1px solid #ddd;
    }

    .btn-secondary:hover {
      background: #f8f9fa;
      border-color: #FA8C32;
    }

    /* å†…å®¹æ¨¡å— */
    .content-module {
      display: none;
      animation: fadeIn 0.3s ease;
    }

    .content-module.active {
      display: block;
    }

    /* æ–‡ç« åˆ—è¡¨ */
    .article-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .article-card {
      background: white;
      border-radius: 12px;
      padding: 20px;
      border: 1px solid #e9ecef;
      transition: all 0.3s ease;
    }

    .article-card:hover {
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      transform: translateY(-2px);
    }

    .article-header {
      display: flex;
      justify-content: between;
      align-items: flex-start;
      margin-bottom: 15px;
    }

    .article-status {
      padding: 4px 12px;
      border-radius: 15px;
      font-size: 0.8rem;
      font-weight: 500;
    }

    .status-draft { background: #ffc107; color: white; }
    .status-pending { background: #17a2b8; color: white; }
    .status-published { background: #28a745; color: white; }
    .status-rejected { background: #dc3545; color: white; }

    .article-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 10px;
      line-height: 1.4;
    }

    .article-excerpt {
      color: #666;
      font-size: 0.9rem;
      line-height: 1.5;
      margin-bottom: 15px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .article-meta {
      display: flex;
      justify-content: between;
      align-items: center;
      font-size: 0.8rem;
      color: #888;
    }

    .article-actions {
      display: flex;
      gap: 10px;
    }

    .action-btn {
      padding: 6px 12px;
      font-size: 0.8rem;
      border: 1px solid #ddd;
      background: white;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .action-btn:hover {
      background: #f8f9fa;
    }

    /* ç¼–è¾‘å™¨å®¹å™¨ */
    .editor-container {
      background: white;
      border-radius: 12px;
      padding: 30px;
      border: 1px solid #e9ecef;
    }

    .editor-header {
      margin-bottom: 25px;
    }

    .editor-title-input {
      width: 100%;
      font-size: 1.5rem;
      font-weight: 600;
      border: none;
      outline: none;
      padding: 15px 0;
      border-bottom: 2px solid #e9ecef;
      transition: border-color 0.3s ease;
    }

    .editor-title-input:focus {
      border-bottom-color: #FA8C32;
    }

    .editor-meta {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 20px;
      margin: 20px 0;
    }

    .meta-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .meta-label {
      font-size: 0.9rem;
      font-weight: 500;
      color: #666;
    }

    .meta-select, .meta-input {
      padding: 10px 12px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 0.9rem;
      transition: border-color 0.3s ease;
    }

    .meta-select:focus, .meta-input:focus {
      outline: none;
      border-color: #FA8C32;
    }

    .editor-content {
      margin: 25px 0;
    }

    .ql-editor {
      min-height: 400px;
      font-size: 1rem;
      line-height: 1.6;
    }

    .editor-actions {
      display: flex;
      justify-content: between;
      align-items: center;
      margin-top: 25px;
      padding-top: 20px;
      border-top: 1px solid #e9ecef;
    }

    .editor-actions-left {
      display: flex;
      gap: 15px;
    }

    .editor-actions-right {
      display: flex;
      gap: 10px;
    }

    /* ç»Ÿè®¡é¢æ¿ */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .stats-card {
      background: white;
      border-radius: 12px;
      padding: 25px;
      border: 1px solid #e9ecef;
      text-align: center;
    }

    .stats-icon {
      font-size: 2.5rem;
      margin-bottom: 15px;
    }

    .stats-number {
      font-size: 2rem;
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 5px;
    }

    .stats-label {
      color: #666;
      font-size: 0.9rem;
    }

    .stats-trend {
      margin-top: 10px;
      font-size: 0.8rem;
    }

    .trend-up { color: #28a745; }
    .trend-down { color: #dc3545; }

    /* è®¾ç½®é¢æ¿ */
    .settings-form {
      background: white;
      border-radius: 12px;
      padding: 30px;
      border: 1px solid #e9ecef;
    }

    .form-section {
      margin-bottom: 30px;
    }

    .section-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 15px;
      color: #2c3e50;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px;
      margin-bottom: 20px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .form-label {
      font-size: 0.9rem;
      font-weight: 500;
      color: #666;
    }

    .form-input, .form-textarea {
      padding: 12px 15px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 0.9rem;
      transition: all 0.3s ease;
    }

    .form-textarea {
      resize: vertical;
      min-height: 100px;
    }

    .form-input:focus, .form-textarea:focus {
      outline: none;
      border-color: #FA8C32;
      box-shadow: 0 0 0 3px rgba(250, 140, 50, 0.1);
    }

    /* å“åº”å¼è®¾è®¡ */
    @media (max-width: 768px) {
      .author-sidebar {
        transform: translateX(-100%);
        transition: transform 0.3s ease;
      }

      .author-sidebar.mobile-open {
        transform: translateX(0);
      }

      .author-main {
        margin-left: 0;
        padding: 20px 15px;
      }

      .editor-meta {
        grid-template-columns: 1fr;
      }

      .form-row {
        grid-template-columns: 1fr;
      }

      .article-grid {
        grid-template-columns: 1fr;
      }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .empty-state {
      text-align: center;
      padding: 60px 20px;
      color: #666;
    }

    .empty-state-icon {
      font-size: 4rem;
      margin-bottom: 20px;
      opacity: 0.5;
    }

    .back-btn {
      position: fixed;
      top: 20px;
      left: 20px;
      background: white;
      border: 1px solid #ddd;
      border-radius: 50%;
      width: 45px;
      height: 45px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 1.2rem;
      color: #666;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
      z-index: 1000;
      transition: all 0.3s ease;
    }

    .back-btn:hover {
      background: #FA8C32;
      color: white;
      border-color: #FA8C32;
    }

    @media (min-width: 769px) {
      .back-btn {
        display: none;
      }
    }
  </style>
</head>

<body>
  <!-- è¿”å›æŒ‰é’®ï¼ˆç§»åŠ¨ç«¯ï¼‰ -->
  <button class="back-btn" onclick="window.history.back()" title="è¿”å›">â†</button>

  <div class="author-layout">
    <!-- ä¾§è¾¹æ  -->
    <div class="author-sidebar" id="authorSidebar">
      <!-- ä½œè€…èµ„æ–™ -->
      <div class="author-profile">
        <div class="author-avatar" id="authorAvatar">A</div>
        <div class="author-name" id="authorName">åŠ è½½ä¸­...</div>
        <div class="author-role">å†…å®¹åˆ›ä½œè€…</div>
        <div class="author-stats">
          <div class="stat-item">
            <div class="stat-number" id="articleCount">0</div>
            <div class="stat-label">æ–‡ç« </div>
          </div>
          <div class="stat-item">
            <div class="stat-number" id="viewCount">0</div>
            <div class="stat-label">é˜…è¯»</div>
          </div>
          <div class="stat-item">
            <div class="stat-number" id="fanCount">0</div>
            <div class="stat-label">ç²‰ä¸</div>
          </div>
        </div>
      </div>

      <!-- å¯¼èˆªèœå• -->
      <nav class="author-nav">
        <a class="nav-item active" onclick="showModule('dashboard')">
          <span class="nav-icon">ğŸ“Š</span>
          <span>ä»ªè¡¨æ¿</span>
        </a>
        <a class="nav-item" onclick="showModule('articles')">
          <span class="nav-icon">ğŸ“</span>
          <span>æˆ‘çš„æ–‡ç« </span>
        </a>
        <a class="nav-item" onclick="showModule('create')">
          <span class="nav-icon">âœï¸</span>
          <span>å†™æ–‡ç« </span>
        </a>
        <a class="nav-item" onclick="showModule('drafts')">
          <span class="nav-icon">ğŸ“„</span>
          <span>è‰ç¨¿ç®±</span>
        </a>
        <a class="nav-item" onclick="showModule('analytics')">
          <span class="nav-icon">ğŸ“ˆ</span>
          <span>æ•°æ®åˆ†æ</span>
        </a>
        <a class="nav-item" onclick="showModule('settings')">
          <span class="nav-icon">âš™ï¸</span>
          <span>ä¸ªäººè®¾ç½®</span>
        </a>
      </nav>
    </div>

    <!-- ä¸»å†…å®¹åŒº -->
    <main class="author-main">
      <!-- ä»ªè¡¨æ¿ -->
      <div id="dashboard-module" class="content-module active">
        <div class="page-header">
          <div>
            <h1 class="page-title">ä»ªè¡¨æ¿</h1>
            <p class="page-subtitle">æ¬¢è¿å›æ¥ï¼ŒæŸ¥çœ‹æ‚¨çš„åˆ›ä½œæ¦‚å†µ</p>
          </div>
          <div class="header-actions">
            <button class="btn btn-primary" onclick="showModule('create')">
              <span>âœï¸</span> å†™æ–‡ç« 
            </button>
          </div>
        </div>

        <!-- ç»Ÿè®¡å¡ç‰‡ -->
        <div class="stats-grid">
          <div class="stats-card">
            <div class="stats-icon">ğŸ“</div>
            <div class="stats-number" id="dashTotalArticles">12</div>
            <div class="stats-label">æ€»æ–‡ç« æ•°</div>
            <div class="stats-trend trend-up">â†‘ è¾ƒä¸Šæœˆ +2</div>
          </div>
          <div class="stats-card">
            <div class="stats-icon">ğŸ‘€</div>
            <div class="stats-number" id="dashTotalViews">2,845</div>
            <div class="stats-label">æ€»é˜…è¯»é‡</div>
            <div class="stats-trend trend-up">â†‘ è¾ƒä¸Šæœˆ +15%</div>
          </div>
          <div class="stats-card">
            <div class="stats-icon">â¤ï¸</div>
            <div class="stats-number" id="dashTotalLikes">156</div>
            <div class="stats-label">è·èµæ€»æ•°</div>
            <div class="stats-trend trend-up">â†‘ è¾ƒä¸Šæœˆ +8</div>
          </div>
          <div class="stats-card">
            <div class="stats-icon">ğŸ‘¥</div>
            <div class="stats-number" id="dashFollowers">89</div>
            <div class="stats-label">ç²‰ä¸æ•°é‡</div>
            <div class="stats-trend trend-up">â†‘ è¾ƒä¸Šæœˆ +12</div>
          </div>
        </div>

        <!-- æœ€è¿‘æ–‡ç«  -->
        <h3 style="margin-bottom: 20px;">æœ€è¿‘æ–‡ç« </h3>
        <div class="article-grid" id="recentArticles">
          <!-- æ–‡ç« å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>
      </div>

      <!-- æˆ‘çš„æ–‡ç«  -->
      <div id="articles-module" class="content-module">
        <div class="page-header">
          <div>
            <h1 class="page-title">æˆ‘çš„æ–‡ç« </h1>
            <p class="page-subtitle">ç®¡ç†æ‚¨å·²å‘å¸ƒå’Œå¾…å®¡æ ¸çš„æ–‡ç« </p>
          </div>
          <div class="header-actions">
            <button class="btn btn-secondary">
              <span>ğŸ”</span> æœç´¢
            </button>
            <button class="btn btn-primary" onclick="showModule('create')">
              <span>âœï¸</span> å†™æ–‡ç« 
            </button>
          </div>
        </div>

        <div class="article-grid" id="allArticles">
          <!-- æ–‡ç« åˆ—è¡¨ -->
        </div>
      </div>

      <!-- å†™æ–‡ç«  -->
      <div id="create-module" class="content-module">
        <div class="page-header">
          <div>
            <h1 class="page-title">å†™æ–‡ç« </h1>
            <p class="page-subtitle">åˆ›ä½œæ‚¨çš„AIåˆ›æŠ•å†…å®¹</p>
          </div>
        </div>

        <div class="editor-container">
          <div class="editor-header">
            <input type="text" class="editor-title-input" id="articleTitle" placeholder="è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜...">
            
            <div class="editor-meta">
              <div class="meta-group">
                <label class="meta-label">åˆ†ç±»</label>
                <select class="meta-select" id="articleCategory">
                  <option value="">è¯·é€‰æ‹©åˆ†ç±»</option>
                  <option value="startups">AIåˆåˆ›å…¬å¸</option>
                  <option value="public">AIä¸Šå¸‚å…¬å¸</option>
                  <option value="analysis">AIè¡Œä¸šåˆ†æ</option>
                  <option value="investors">AIæŠ•èµ„æœºæ„</option>
                </select>
              </div>
              <div class="meta-group">
                <label class="meta-label">æ ‡ç­¾</label>
                <input type="text" class="meta-input" id="articleTags" placeholder="å¤šä¸ªæ ‡ç­¾ç”¨é€—å·åˆ†éš”">
              </div>
              <div class="meta-group">
                <label class="meta-label">å‘å¸ƒçŠ¶æ€</label>
                <select class="meta-select" id="articleStatus">
                  <option value="draft">ä¿å­˜ä¸ºè‰ç¨¿</option>
                  <option value="pending">æäº¤å®¡æ ¸</option>
                  <option value="scheduled">å®šæ—¶å‘å¸ƒ</option>
                </select>
              </div>
            </div>
          </div>

          <div class="editor-content">
            <div class="editor-toolbar">
              <button type="button" class="editor-btn" onclick="formatText('bold')"><b>B</b></button>
              <button type="button" class="editor-btn" onclick="formatText('italic')"><i>I</i></button>
              <button type="button" class="editor-btn" onclick="formatText('underline')"><u>U</u></button>
              <button type="button" class="editor-btn" onclick="formatText('justifyLeft')">â†</button>
              <button type="button" class="editor-btn" onclick="formatText('justifyCenter')">âŸ·</button>
              <button type="button" class="editor-btn" onclick="formatText('justifyRight')">â†’</button>
              <button type="button" class="editor-btn" onclick="insertList('unordered')">â€¢ åˆ—è¡¨</button>
              <button type="button" class="editor-btn" onclick="insertList('ordered')">1. åˆ—è¡¨</button>
            </div>
            <div id="editor" contenteditable="true" style="height: 400px; border-radius: 0 0 8px 8px;">å¼€å§‹å†™ä½œæ‚¨çš„å†…å®¹...</div>
          </div>

          <div class="editor-actions">
            <div class="editor-actions-left">
              <span style="color: #666; font-size: 0.9rem;" id="wordCount">å­—æ•°: 0</span>
              <span style="color: #666; font-size: 0.9rem;">æœ€åä¿å­˜: ä»æœª</span>
            </div>
            <div class="editor-actions-right">
              <button class="btn btn-secondary" onclick="saveArticle('draft')">ä¿å­˜è‰ç¨¿</button>
              <button class="btn btn-secondary" onclick="previewArticle()">é¢„è§ˆ</button>
              <button class="btn btn-primary" onclick="saveArticle('pending')">æäº¤å®¡æ ¸</button>
            </div>
          </div>
        </div>
      </div>

      <!-- è‰ç¨¿ç®± -->
      <div id="drafts-module" class="content-module">
        <div class="page-header">
          <div>
            <h1 class="page-title">è‰ç¨¿ç®±</h1>
            <p class="page-subtitle">ç®¡ç†æ‚¨çš„è‰ç¨¿æ–‡ç« </p>
          </div>
        </div>

        <div class="article-grid" id="draftsContainer">
          <div class="empty-state">
            <div class="empty-state-icon">ğŸ“„</div>
            <h3>æš‚æ— è‰ç¨¿</h3>
            <p>å¼€å§‹å†™ä½œï¼Œåˆ›å»ºæ‚¨çš„ç¬¬ä¸€ç¯‡æ–‡ç« </p>
            <button class="btn btn-primary" onclick="showModule('create')" style="margin-top: 20px;">
              <span>âœï¸</span> å¼€å§‹å†™ä½œ
            </button>
          </div>
        </div>
      </div>

      <!-- æ•°æ®åˆ†æ -->
      <div id="analytics-module" class="content-module">
        <div class="page-header">
          <div>
            <h1 class="page-title">æ•°æ®åˆ†æ</h1>
            <p class="page-subtitle">æ·±å…¥äº†è§£æ‚¨çš„å†…å®¹è¡¨ç°</p>
          </div>
        </div>

        <div class="empty-state">
          <div class="empty-state-icon">ğŸ“ˆ</div>
          <h3>æ•°æ®åˆ†æåŠŸèƒ½</h3>
          <p>è¯¦ç»†çš„æ•°æ®åˆ†æåŠŸèƒ½æ­£åœ¨å¼€å‘ä¸­...</p>
        </div>
      </div>

      <!-- ä¸ªäººè®¾ç½® -->
      <div id="settings-module" class="content-module">
        <div class="page-header">
          <div>
            <h1 class="page-title">ä¸ªäººè®¾ç½®</h1>
            <p class="page-subtitle">ç®¡ç†æ‚¨çš„ä¸ªäººä¿¡æ¯å’Œåå¥½</p>
          </div>
        </div>

        <form class="settings-form" id="settingsForm">
          <div class="form-section">
            <h3 class="section-title">åŸºæœ¬ä¿¡æ¯</h3>
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">æ˜¾ç¤ºåç§°</label>
                <input type="text" class="form-input" id="settingsDisplayName" placeholder="æ‚¨çš„æ˜¾ç¤ºåç§°">
              </div>
              <div class="form-group">
                <label class="form-label">é‚®ç®±åœ°å€</label>
                <input type="email" class="form-input" id="settingsEmail" placeholder="your@email.com">
              </div>
            </div>
            <div class="form-group">
              <label class="form-label">ä¸ªäººç®€ä»‹</label>
              <textarea class="form-textarea" id="settingsBio" placeholder="ä»‹ç»ä¸€ä¸‹æ‚¨è‡ªå·±..."></textarea>
            </div>
          </div>

          <div class="form-section">
            <h3 class="section-title">ä¸“ä¸šä¿¡æ¯</h3>
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">å…¬å¸/æœºæ„</label>
                <input type="text" class="form-input" id="settingsCompany" placeholder="æ‚¨çš„å…¬å¸æˆ–æœºæ„">
              </div>
              <div class="form-group">
                <label class="form-label">èŒä½</label>
                <input type="text" class="form-input" id="settingsPosition" placeholder="æ‚¨çš„èŒä½">
              </div>
            </div>
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">ä¸“ä¸šé¢†åŸŸ</label>
                <select class="meta-select" id="settingsExpertise">
                  <option value="">è¯·é€‰æ‹©ä¸“ä¸šé¢†åŸŸ</option>
                  <option value="ai-research">AIç ”ç©¶</option>
                  <option value="venture-capital">é£é™©æŠ•èµ„</option>
                  <option value="startup">åˆ›ä¸šå…¬å¸</option>
                  <option value="industry-analysis">è¡Œä¸šåˆ†æ</option>
                  <option value="technology">æŠ€æœ¯å¼€å‘</option>
                </select>
              </div>
              <div class="form-group">
                <label class="form-label">ä¸ªäººç½‘ç«™</label>
                <input type="url" class="form-input" id="settingsWebsite" placeholder="https://your-website.com">
              </div>
            </div>
          </div>

          <div style="text-align: right; padding-top: 20px; border-top: 1px solid #e9ecef;">
            <button type="submit" class="btn btn-primary">ä¿å­˜è®¾ç½®</button>
          </div>
        </form>
      </div>
    </main>
  </div>

  <script>
    // å…¨å±€å˜é‡
    let quillEditor;
    let currentUser = null;
    let articles = [];
    let drafts = [];

    // é¡µé¢åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function() {
      initializeUser();
      initializeEditor();
      loadArticles();
      bindEvents();
    });

    // åˆå§‹åŒ–ç”¨æˆ·ä¿¡æ¯
    function initializeUser() {
      const storedUser = localStorage.getItem('svtr_user');
      if (storedUser) {
        currentUser = JSON.parse(storedUser);
        updateUserProfile();
      } else {
        // æ¨¡æ‹Ÿç”¨æˆ·æ•°æ®
        currentUser = {
          id: 1,
          name: 'AIåˆ›æŠ•åˆ†æå¸ˆ',
          email: 'analyst@svtr.ai',
          avatar: 'A',
          company: 'SVTR',
          position: 'èµ„æ·±åˆ†æå¸ˆ'
        };
        updateUserProfile();
      }
    }

    // æ›´æ–°ç”¨æˆ·èµ„æ–™æ˜¾ç¤º
    function updateUserProfile() {
      document.getElementById('authorName').textContent = currentUser.name;
      document.getElementById('authorAvatar').textContent = currentUser.name.charAt(0).toUpperCase();
      
      // æ›´æ–°ç»Ÿè®¡æ•°æ®ï¼ˆæ¨¡æ‹Ÿæ•°æ®ï¼‰
      document.getElementById('articleCount').textContent = articles.length;
      document.getElementById('viewCount').textContent = '2,845';
      document.getElementById('fanCount').textContent = '89';
    }

    // åˆå§‹åŒ–å¯Œæ–‡æœ¬ç¼–è¾‘å™¨
    function initializeEditor() {
      const editor = document.getElementById('editor');
      
      // ç›‘å¬å†…å®¹å˜åŒ–ï¼Œæ›´æ–°å­—æ•°ç»Ÿè®¡
      editor.addEventListener('input', function() {
        const text = editor.textContent || editor.innerText || '';
        const wordCount = text.trim().length;
        document.getElementById('wordCount').textContent = `å­—æ•°: ${wordCount}`;
        
        // è‡ªåŠ¨ä¿å­˜è‰ç¨¿
        autoSaveDraft();
      });

      // æ¸…é™¤é»˜è®¤å†…å®¹
      editor.addEventListener('focus', function() {
        if (editor.textContent === 'å¼€å§‹å†™ä½œæ‚¨çš„å†…å®¹...') {
          editor.textContent = '';
        }
      });

      editor.addEventListener('blur', function() {
        if (editor.textContent.trim() === '') {
          editor.textContent = 'å¼€å§‹å†™ä½œæ‚¨çš„å†…å®¹...';
        }
      });
    }

    // æ ¼å¼åŒ–æ–‡æœ¬
    function formatText(command) {
      document.execCommand(command, false, null);
      document.getElementById('editor').focus();
    }

    // æ’å…¥åˆ—è¡¨
    function insertList(type) {
      const command = type === 'ordered' ? 'insertOrderedList' : 'insertUnorderedList';
      document.execCommand(command, false, null);
      document.getElementById('editor').focus();
    }

    // æ˜¾ç¤ºæ¨¡å—
    function showModule(moduleId) {
      // éšè—æ‰€æœ‰æ¨¡å—
      document.querySelectorAll('.content-module').forEach(module => {
        module.classList.remove('active');
      });
      
      // æ˜¾ç¤ºæŒ‡å®šæ¨¡å—
      document.getElementById(moduleId + '-module').classList.add('active');
      
      // æ›´æ–°å¯¼èˆªçŠ¶æ€
      document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('active');
      });
      event.target.closest('.nav-item').classList.add('active');
      
      // æ ¹æ®æ¨¡å—æ‰§è¡Œç‰¹å®šæ“ä½œ
      switch(moduleId) {
        case 'dashboard':
          loadDashboard();
          break;
        case 'articles':
          loadAllArticles();
          break;
        case 'drafts':
          loadDrafts();
          break;
        case 'create':
          resetEditor();
          break;
        case 'settings':
          loadSettings();
          break;
      }
    }

    // åŠ è½½ä»ªè¡¨æ¿æ•°æ®
    function loadDashboard() {
      loadRecentArticles();
      updateDashboardStats();
    }

    // åŠ è½½æœ€è¿‘æ–‡ç« 
    function loadRecentArticles() {
      const recentContainer = document.getElementById('recentArticles');
      const recentArticles = articles.slice(0, 6); // æ˜¾ç¤ºæœ€è¿‘6ç¯‡æ–‡ç« 
      
      if (recentArticles.length === 0) {
        recentContainer.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">ğŸ“</div>
            <h3>è¿˜æ²¡æœ‰æ–‡ç« </h3>
            <p>å¼€å§‹å†™ä½œï¼Œåˆ›å»ºæ‚¨çš„ç¬¬ä¸€ç¯‡æ–‡ç« </p>
            <button class="btn btn-primary" onclick="showModule('create')" style="margin-top: 20px;">
              <span>âœï¸</span> å¼€å§‹å†™ä½œ
            </button>
          </div>
        `;
        return;
      }

      recentContainer.innerHTML = recentArticles.map(article => createArticleCard(article)).join('');
    }

    // åˆ›å»ºæ–‡ç« å¡ç‰‡HTML
    function createArticleCard(article) {
      const statusClass = `status-${article.status}`;
      const statusText = {
        'draft': 'è‰ç¨¿',
        'pending': 'å¾…å®¡æ ¸',
        'published': 'å·²å‘å¸ƒ',
        'rejected': 'è¢«æ‹’ç»'
      };

      return `
        <div class="article-card">
          <div class="article-header">
            <span class="article-status ${statusClass}">${statusText[article.status]}</span>
          </div>
          <h3 class="article-title">${article.title}</h3>
          <p class="article-excerpt">${article.excerpt}</p>
          <div class="article-meta">
            <span>${article.createdAt}</span>
            <div class="article-actions">
              <button class="action-btn" onclick="editArticle(${article.id})">ç¼–è¾‘</button>
              <button class="action-btn" onclick="viewArticle(${article.id})">æŸ¥çœ‹</button>
              ${article.status === 'published' ? '<button class="action-btn" onclick="shareArticle(' + article.id + ')">åˆ†äº«</button>' : ''}
            </div>
          </div>
        </div>
      `;
    }

    // æ›´æ–°ä»ªè¡¨æ¿ç»Ÿè®¡
    function updateDashboardStats() {
      const published = articles.filter(a => a.status === 'published').length;
      const totalViews = articles.reduce((sum, a) => sum + (a.views || 0), 0);
      const totalLikes = articles.reduce((sum, a) => sum + (a.likes || 0), 0);
      
      document.getElementById('dashTotalArticles').textContent = articles.length;
      document.getElementById('dashTotalViews').textContent = totalViews.toLocaleString();
      document.getElementById('dashTotalLikes').textContent = totalLikes;
    }

    // åŠ è½½æ‰€æœ‰æ–‡ç« 
    function loadAllArticles() {
      const container = document.getElementById('allArticles');
      if (articles.length === 0) {
        container.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">ğŸ“</div>
            <h3>è¿˜æ²¡æœ‰æ–‡ç« </h3>
            <p>å¼€å§‹å†™ä½œï¼Œåˆ†äº«æ‚¨çš„è§è§£</p>
            <button class="btn btn-primary" onclick="showModule('create')" style="margin-top: 20px;">
              <span>âœï¸</span> å†™æ–‡ç« 
            </button>
          </div>
        `;
        return;
      }

      container.innerHTML = articles.map(article => createArticleCard(article)).join('');
    }

    // åŠ è½½è‰ç¨¿
    function loadDrafts() {
      const draftArticles = articles.filter(a => a.status === 'draft');
      const container = document.getElementById('draftsContainer');
      
      if (draftArticles.length === 0) {
        container.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">ğŸ“„</div>
            <h3>æš‚æ— è‰ç¨¿</h3>
            <p>å¼€å§‹å†™ä½œï¼Œåˆ›å»ºæ‚¨çš„ç¬¬ä¸€ç¯‡æ–‡ç« </p>
            <button class="btn btn-primary" onclick="showModule('create')" style="margin-top: 20px;">
              <span>âœï¸</span> å¼€å§‹å†™ä½œ
            </button>
          </div>
        `;
        return;
      }

      container.innerHTML = draftArticles.map(article => createArticleCard(article)).join('');
    }

    // é‡ç½®ç¼–è¾‘å™¨
    function resetEditor() {
      document.getElementById('articleTitle').value = '';
      document.getElementById('articleCategory').value = '';
      document.getElementById('articleTags').value = '';
      document.getElementById('articleStatus').value = 'draft';
      quillEditor.setContents([]);
      document.getElementById('wordCount').textContent = 'å­—æ•°: 0';
    }

    // ä¿å­˜æ–‡ç« 
    function saveArticle(status = 'draft') {
      const title = document.getElementById('articleTitle').value.trim();
      const category = document.getElementById('articleCategory').value;
      const tags = document.getElementById('articleTags').value.trim();
      const editor = document.getElementById('editor');
      const content = editor.innerHTML;
      const text = (editor.textContent || editor.innerText || '').trim();

      if (!title) {
        showToast('è¯·è¾“å…¥æ–‡ç« æ ‡é¢˜', 'error');
        return;
      }

      if (!text || text.length < 100) {
        showToast('æ–‡ç« å†…å®¹è‡³å°‘éœ€è¦100å­—', 'error');
        return;
      }

      const article = {
        id: Date.now(),
        title: title,
        category: category,
        tags: tags.split(',').map(tag => tag.trim()).filter(tag => tag),
        content: content,
        excerpt: text.substring(0, 200) + (text.length > 200 ? '...' : ''),
        status: status,
        createdAt: new Date().toLocaleDateString('zh-CN'),
        updatedAt: new Date().toLocaleDateString('zh-CN'),
        author: currentUser.name,
        views: 0,
        likes: 0
      };

      // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
      articles.unshift(article);
      localStorage.setItem('svtr_articles', JSON.stringify(articles));

      // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
      const statusText = {
        'draft': 'è‰ç¨¿å·²ä¿å­˜',
        'pending': 'æ–‡ç« å·²æäº¤å®¡æ ¸',
        'scheduled': 'æ–‡ç« å·²è®¡åˆ’å‘å¸ƒ'
      };
      
      showToast(statusText[status], 'success');

      // å¦‚æœæ˜¯æäº¤å®¡æ ¸ï¼Œåˆ‡æ¢åˆ°æ–‡ç« åˆ—è¡¨
      if (status === 'pending') {
        setTimeout(() => {
          showModule('articles');
        }, 1000);
      }

      // é‡ç½®ç¼–è¾‘å™¨
      if (status !== 'draft') {
        resetEditor();
      }

      // æ›´æ–°ç»Ÿè®¡
      updateUserProfile();
    }

    // è‡ªåŠ¨ä¿å­˜è‰ç¨¿
    let autoSaveTimeout;
    function autoSaveDraft() {
      clearTimeout(autoSaveTimeout);
      autoSaveTimeout = setTimeout(() => {
        const title = document.getElementById('articleTitle').value.trim();
        const editor = document.getElementById('editor');
        const content = (editor.textContent || editor.innerText || '').trim();
        
        if (title && content.length > 50) {
          // è¿™é‡Œå¯ä»¥å®ç°è‡ªåŠ¨ä¿å­˜é€»è¾‘
          console.log('è‡ªåŠ¨ä¿å­˜è‰ç¨¿...');
        }
      }, 3000); // 3ç§’åè‡ªåŠ¨ä¿å­˜
    }

    // é¢„è§ˆæ–‡ç« 
    function previewArticle() {
      const title = document.getElementById('articleTitle').value.trim();
      const content = quillEditor.root.innerHTML;
      
      if (!title || !content) {
        showToast('è¯·å…ˆç¼–å†™æ–‡ç« å†…å®¹', 'error');
        return;
      }

      // æ‰“å¼€é¢„è§ˆçª—å£
      const previewWindow = window.open('', '_blank', 'width=800,height=600,scrollbars=yes');
      previewWindow.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="UTF-8">
          <title>é¢„è§ˆ: ${title}</title>
          <style>
            body { 
              font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
              max-width: 800px; 
              margin: 0 auto; 
              padding: 40px 20px; 
              line-height: 1.6;
            }
            h1 { color: #2c3e50; margin-bottom: 20px; }
            .preview-meta { 
              color: #666; 
              font-size: 0.9rem; 
              margin-bottom: 30px; 
              padding-bottom: 20px; 
              border-bottom: 1px solid #eee; 
            }
            .preview-content { font-size: 1.1rem; }
          </style>
        </head>
        <body>
          <h1>${title}</h1>
          <div class="preview-meta">
            ä½œè€…: ${currentUser.name} | é¢„è§ˆæ—¶é—´: ${new Date().toLocaleString('zh-CN')}
          </div>
          <div class="preview-content">${content}</div>
        </body>
        </html>
      `);
    }

    // ç¼–è¾‘æ–‡ç« 
    function editArticle(articleId) {
      const article = articles.find(a => a.id === articleId);
      if (!article) return;

      // åˆ‡æ¢åˆ°ç¼–è¾‘æ¨¡å¼
      showModule('create');

      // å¡«å……ç¼–è¾‘å™¨
      document.getElementById('articleTitle').value = article.title;
      document.getElementById('articleCategory').value = article.category || '';
      document.getElementById('articleTags').value = article.tags ? article.tags.join(', ') : '';
      const editor = document.getElementById('editor');
      editor.innerHTML = article.content;

      // æ›´æ–°å­—æ•°ç»Ÿè®¡
      const wordCount = (editor.textContent || editor.innerText || '').trim().length;
      document.getElementById('wordCount').textContent = `å­—æ•°: ${wordCount}`;

      showToast('æ–‡ç« å·²åŠ è½½åˆ°ç¼–è¾‘å™¨', 'info');
    }

    // æŸ¥çœ‹æ–‡ç« 
    function viewArticle(articleId) {
      const article = articles.find(a => a.id === articleId);
      if (!article) return;

      // è¿™é‡Œå¯ä»¥è·³è½¬åˆ°æ–‡ç« è¯¦æƒ…é¡µæˆ–æ‰“å¼€æ¨¡æ€æ¡†
      showToast('æŸ¥çœ‹æ–‡ç« åŠŸèƒ½å¼€å‘ä¸­', 'info');
    }

    // åˆ†äº«æ–‡ç« 
    function shareArticle(articleId) {
      const article = articles.find(a => a.id === articleId);
      if (!article) return;

      // å¤åˆ¶åˆ†äº«é“¾æ¥
      const shareUrl = `${window.location.origin}/article/${articleId}`;
      navigator.clipboard.writeText(shareUrl).then(() => {
        showToast('åˆ†äº«é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿', 'success');
      });
    }

    // åŠ è½½è®¾ç½®
    function loadSettings() {
      document.getElementById('settingsDisplayName').value = currentUser.name || '';
      document.getElementById('settingsEmail').value = currentUser.email || '';
      document.getElementById('settingsBio').value = currentUser.bio || '';
      document.getElementById('settingsCompany').value = currentUser.company || '';
      document.getElementById('settingsPosition').value = currentUser.position || '';
      document.getElementById('settingsWebsite').value = currentUser.website || '';
    }

    // ç»‘å®šäº‹ä»¶
    function bindEvents() {
      // è®¾ç½®è¡¨å•æäº¤
      document.getElementById('settingsForm').addEventListener('submit', function(e) {
        e.preventDefault();
        
        // æ›´æ–°ç”¨æˆ·ä¿¡æ¯
        currentUser.name = document.getElementById('settingsDisplayName').value;
        currentUser.email = document.getElementById('settingsEmail').value;
        currentUser.bio = document.getElementById('settingsBio').value;
        currentUser.company = document.getElementById('settingsCompany').value;
        currentUser.position = document.getElementById('settingsPosition').value;
        currentUser.website = document.getElementById('settingsWebsite').value;
        
        // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
        localStorage.setItem('svtr_user', JSON.stringify(currentUser));
        
        // æ›´æ–°ç•Œé¢æ˜¾ç¤º
        updateUserProfile();
        
        showToast('è®¾ç½®å·²ä¿å­˜', 'success');
      });
    }

    // åŠ è½½æ–‡ç« æ•°æ®
    function loadArticles() {
      const storedArticles = localStorage.getItem('svtr_articles');
      if (storedArticles) {
        articles = JSON.parse(storedArticles);
      } else {
        // æ¨¡æ‹Ÿä¸€äº›ç¤ºä¾‹æ–‡ç« 
        articles = [
          {
            id: 1,
            title: 'OpenAIæœ€æ–°èèµ„è½®è¯¦è§£ï¼šä¼°å€¼1570äº¿ç¾å…ƒèƒŒåçš„æ•…äº‹',
            category: 'startups',
            tags: ['OpenAI', 'èèµ„', 'ä¼°å€¼'],
            excerpt: 'OpenAIåœ¨æ–°ä¸€è½®èèµ„ä¸­è·å¾—65äº¿ç¾å…ƒæŠ•èµ„ï¼Œå…¬å¸ä¼°å€¼è¾¾åˆ°åˆ›çºªå½•çš„1570äº¿ç¾å…ƒã€‚æœ¬æ–‡æ·±å…¥åˆ†æè¿™è½®èèµ„çš„ç»†èŠ‚ã€æŠ•èµ„æ–¹æ„æˆä»¥åŠå¯¹AIè¡Œä¸šçš„å½±å“...',
            status: 'published',
            createdAt: '2024-10-15',
            author: currentUser.name,
            views: 1250,
            likes: 89
          },
          {
            id: 2,
            title: '2024å¹´Q3 AIèŠ¯ç‰‡å¸‚åœºåˆ†ææŠ¥å‘Š',
            category: 'analysis',
            tags: ['AIèŠ¯ç‰‡', 'å¸‚åœºåˆ†æ', 'NVIDIA'],
            excerpt: 'Q3å­£åº¦AIèŠ¯ç‰‡å¸‚åœºç»§ç»­ä¿æŒå¼ºåŠ²å¢é•¿ï¼ŒNVIDIAæ•°æ®ä¸­å¿ƒä¸šåŠ¡æ”¶å…¥è¾¾309äº¿ç¾å…ƒã€‚æœ¬æŠ¥å‘Šåˆ†æå¸‚åœºæ ¼å±€å˜åŒ–ã€ç«äº‰æ€åŠ¿åŠæœªæ¥è¶‹åŠ¿...',
            status: 'pending',
            createdAt: '2024-10-14',
            author: currentUser.name,
            views: 0,
            likes: 0
          }
        ];
        localStorage.setItem('svtr_articles', JSON.stringify(articles));
      }
    }

    // æ˜¾ç¤ºæç¤ºæ¶ˆæ¯
    function showToast(message, type = 'info') {
      const toast = document.createElement('div');
      toast.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 12px 24px;
        border-radius: 6px;
        color: white;
        font-weight: 500;
        z-index: 10000;
        transition: all 0.3s ease;
        transform: translateX(100%);
      `;
      
      const colors = {
        success: '#28a745',
        error: '#dc3545',
        info: '#17a2b8'
      };
      
      toast.style.background = colors[type] || colors.info;
      toast.textContent = message;
      
      document.body.appendChild(toast);
      
      setTimeout(() => {
        toast.style.transform = 'translateX(0)';
      }, 100);
      
      setTimeout(() => {
        toast.style.transform = 'translateX(100%)';
        setTimeout(() => {
          document.body.removeChild(toast);
        }, 300);
      }, 3000);
    }

    // ç§»åŠ¨ç«¯ä¾§è¾¹æ åˆ‡æ¢
    function toggleSidebar() {
      const sidebar = document.getElementById('authorSidebar');
      sidebar.classList.toggle('mobile-open');
    }

    // ç§»åŠ¨ç«¯å“åº”
    if (window.innerWidth <= 768) {
      document.querySelector('.back-btn').style.display = 'flex';
    }
  </script>
</body>
</html>