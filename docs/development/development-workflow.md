# å¼€å‘å’Œéƒ¨ç½²å·¥ä½œæµç¨‹

## ğŸ¯ å®Œæ•´çš„å¼€å‘æµç¨‹

### 1. ğŸ“‹ ä¿®æ”¹ä»£ç å‰çš„å‡†å¤‡

```bash
# æŸ¥çœ‹å½“å‰çŠ¶æ€
git status

# åˆ›å»ºå¤‡ä»½ç‚¹
npm run backup

# æŸ¥çœ‹æœ€è¿‘æäº¤
git log --oneline -5
```

### 2. ğŸ” æœ¬åœ°é¢„è§ˆæµç¨‹

#### æ–¹å¼ä¸€ï¼šä½¿ç”¨é¢„è§ˆè„šæœ¬ï¼ˆæ¨èï¼‰
```bash
# å¯åŠ¨é¢„è§ˆæœåŠ¡å™¨
./scripts/preview.sh

# æˆ–è€…ä½¿ç”¨npmå‘½ä»¤
npm run preview
```

#### æ–¹å¼äºŒï¼šä½¿ç”¨å®Œæ•´å·¥ä½œæµç¨‹
```bash
# å¯åŠ¨äº¤äº’å¼éƒ¨ç½²å·¥å…·
./scripts/deploy-workflow.sh
```

#### æ–¹å¼ä¸‰ï¼šæ‰‹åŠ¨å¯åŠ¨
```bash
# å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨
python3 -m http.server 8080

# è®¿é—® http://localhost:8080
```

### 3. ğŸ“ ä»£ç ä¿®æ”¹å’Œæµ‹è¯•

1. **ç¼–è¾‘ä»£ç **
   - ä¿®æ”¹HTMLã€CSSã€JavaScriptæ–‡ä»¶
   - ä¿å­˜æ›´æ”¹

2. **å®æ—¶é¢„è§ˆ**
   - æµè§ˆå™¨è®¿é—® `http://localhost:8080`
   - åˆ·æ–°é¡µé¢æŸ¥çœ‹ä¿®æ”¹æ•ˆæœ
   - æµ‹è¯•åŠŸèƒ½æ˜¯å¦æ­£å¸¸

3. **ç§»åŠ¨ç«¯æµ‹è¯•**
   - ä½¿ç”¨å¼€å‘è€…å·¥å…·æ¨¡æ‹Ÿç§»åŠ¨è®¾å¤‡
   - è®¿é—® `http://localhost:8080/pages/test-mobile.html`

### 4. ğŸš€ éƒ¨ç½²æµç¨‹

#### æ»¡æ„åçš„éƒ¨ç½²æ­¥éª¤ï¼š

1. **æäº¤ä»£ç **
   ```bash
   git add .
   git commit -m "æè¿°ä½ çš„æ›´æ”¹"
   ```

2. **æ¨é€åˆ°GitHub**
   ```bash
   git push origin main
   ```

3. **è‡ªåŠ¨éƒ¨ç½²**
   - Cloudflare Pages ä¼šè‡ªåŠ¨æ£€æµ‹æ¨é€
   - 1-3åˆ†é’Ÿåéƒ¨ç½²å®Œæˆ

## ğŸ”„ ç‰ˆæœ¬å›é€€æŒ‡å—

### 1. å¿«é€Ÿå›é€€

```bash
# ä½¿ç”¨å›é€€å·¥å…·
npm run rollback

# æˆ–ç›´æ¥è¿è¡Œ
node scripts/rollback.js
```

### 2. æ‰‹åŠ¨å›é€€

```bash
# æŸ¥çœ‹æäº¤å†å²
git log --oneline -10

# å›é€€åˆ°æŒ‡å®šæäº¤
git reset --hard <commit-hash>

# å¼ºåˆ¶æ¨é€ï¼ˆå±é™©æ“ä½œï¼‰
git push --force-with-lease
```

### 3. ä»å¤‡ä»½æ¢å¤

```bash
# æŸ¥çœ‹å¤‡ä»½æ ‡ç­¾
git tag -l "backup-*"

# æ¢å¤åˆ°å¤‡ä»½ç‚¹
git reset --hard backup-20250115-143000

# æ¨é€æ¢å¤
git push --force-with-lease
```

## ğŸ§ª Stagingç¯å¢ƒ

### è®¾ç½®Stagingç¯å¢ƒ

1. **Netlifyè®¾ç½®**
   - åˆ›å»ºæ–°çš„Netlifyç«™ç‚¹
   - è¿æ¥åˆ°åŒä¸€ä¸ªGitHubä»“åº“
   - è®¾ç½®branchä¸º `staging`

2. **æˆ–ä½¿ç”¨Netlifyåˆ«å**
   ```bash
   # éƒ¨ç½²åˆ°stagingåˆ«å
   npm run deploy:staging
   ```

### ä½¿ç”¨Stagingç¯å¢ƒ

1. **æ¨é€åˆ°stagingåˆ†æ”¯**
   ```bash
   git checkout -b staging
   git push origin staging
   ```

2. **æµ‹è¯•å®Œæˆååˆå¹¶åˆ°main**
   ```bash
   git checkout main
   git merge staging
   git push origin main
   ```

## ğŸ“Š ç›‘æ§å’Œæ—¥å¿—

### æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€

```bash
# æŸ¥çœ‹GitçŠ¶æ€
git status

# æŸ¥çœ‹éƒ¨ç½²å†å²
git log --oneline -10

# æŸ¥çœ‹å¤‡ä»½ç‚¹
git tag -l "backup-*"
```

### Cloudflare Pagesç›‘æ§

- è®¿é—®Cloudflare Pagesä»ªè¡¨æ¿
- æŸ¥çœ‹éƒ¨ç½²å†å²å’ŒçŠ¶æ€
- ç›‘æ§è®¿é—®é‡å’Œæ€§èƒ½

## ğŸ› ï¸ å¸¸ç”¨å‘½ä»¤

```bash
# å¼€å‘ç›¸å…³
npm run preview          # å¯åŠ¨é¢„è§ˆæœåŠ¡å™¨
npm run dev             # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run backup          # åˆ›å»ºå¤‡ä»½æ ‡ç­¾

# éƒ¨ç½²ç›¸å…³
npm run deploy:staging  # éƒ¨ç½²åˆ°staging
npm run deploy         # éƒ¨ç½²åˆ°ç”Ÿäº§
npm run rollback       # ç‰ˆæœ¬å›é€€

# å·¥ä½œæµç¨‹
./scripts/deploy-workflow.sh  # äº¤äº’å¼éƒ¨ç½²å·¥å…·
./scripts/preview.sh          # é¢„è§ˆè„šæœ¬
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **é¢„è§ˆæœåŠ¡å™¨æ— æ³•å¯åŠ¨**
   - æ£€æŸ¥ç«¯å£8080æ˜¯å¦è¢«å ç”¨
   - å°è¯•ä½¿ç”¨ä¸åŒç«¯å£ï¼š`python3 -m http.server 8081`

2. **æ¨é€å¤±è´¥**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - è¿è¡Œ `git pull` åŒæ­¥è¿œç¨‹æ›´æ”¹

3. **å›é€€å¤±è´¥**
   - ç¡®ä¿æœ‰è¶³å¤Ÿçš„Gitæƒé™
   - æ£€æŸ¥æäº¤å“ˆå¸Œæ˜¯å¦æ­£ç¡®

### ç´§æ€¥æ¢å¤

```bash
# å¦‚æœä¸€åˆ‡éƒ½å‡ºé”™äº†ï¼Œæ¢å¤åˆ°æœ€è¿‘å¤‡ä»½
git tag -l "backup-*" | tail -1 | xargs git reset --hard
git push --force-with-lease
```

## ğŸ‰ æœ€ä½³å®è·µ

1. **ä¿®æ”¹å‰æ€»æ˜¯åˆ›å»ºå¤‡ä»½**
2. **æœ¬åœ°æµ‹è¯•åå†æ¨é€**
3. **ä½¿ç”¨æè¿°æ€§çš„æäº¤ä¿¡æ¯**
4. **å®šæœŸæ¸…ç†æ—§çš„å¤‡ä»½æ ‡ç­¾**
5. **é‡è¦æ›´æ”¹å‰åœ¨stagingç¯å¢ƒæµ‹è¯•**