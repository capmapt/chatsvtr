<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title data-i18n="title">硅谷科技评论</title>
  <!-- 建议后续补充 description、OG/Favicons 等 -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <div class="lang-toggle">
      <button id="btnZh" class="active">中文</button>
      <span class="divider">|</span>
      <button id="btnEn">English</button>
    </div>
    <button class="menu-toggle" aria-label="打开/关闭菜单">☰</button>
  </header>
  <div class="overlay active"></div>
  <aside class="sidebar open" role="navigation" aria-label="主导航">
    <div class="sidebar-header">
      <img src="logo.jpg" class="sidebar-logo" alt="SVTR.AI logo">
      <h2 data-i18n="sidebar_title">硅谷科技评论</h2>
    </div>
    <nav>
      <ul class="nav-list">
        <li><a href="AI 100.html">AI 100</a></li>
        <li>
          <a href="https://c0uiiy15npu.feishu.cn/wiki/DI9Hw8v8tiZF2Xk13KDcDI8Bn1b?from=from_copylink" data-i18n="nav_ranking" target="_blank">AI创投榜</a>
          <ul class="sub-list">
            <li><a href="#overview-financing" data-i18n="sub_financing">融资概览</a></li>
            <li><a href="#overview-tracks" data-i18n="sub_industries">赛道概览</a></li>
            <li><a href="#overview-companies" data-i18n="sub_startups">公司概览</a></li>
            <li><a href="#overview-institutions" data-i18n="sub_investors">机构概览</a></li>
            <li><a href="#overview-people" data-i18n="sub_people">人员概览</a></li>
          </ul>
        </li>
        <li>
          <a href="https://c0uiiy15npu.feishu.cn/wiki/FeE4wE5kwi2BvlksekTcJvN6n1e?from=from_copylink" data-i18n="nav_database" target="_blank">AI创投库</a>
          <ul class="sub-list">
            <li><a href="#startups" data-i18n="sub_startups">创业公司</a></li>
            <li><a href="#institutions" data-i18n="sub_investors">投资机构</a></li>
            <li><a href="#people" data-i18n="sub_people">创投人物</a></li>
          </ul>
        </li>
        <li><a href="https://c0uiiy15npu.feishu.cn/base/SRmKb3sSAauviCsf0cocnCWdnd2?table=blkZ3RiwRz0nScoi" data-i18n="nav_group" target="_blank">AI创投群</a></li>
        <li><a href="https://c0uiiy15npu.feishu.cn/wiki/N2MIwXwClitUy4k1JtvcYqfjnoe?from=from_copylink" data-i18n="nav_meetup" target="_blank">AI创投会</a></li>
        <li><a href="https://c0uiiy15npu.feishu.cn/wiki/J3v0wuQyZicsIfkki94cSAC0njf?from=from_copylink" data-i18n="nav_camp" target="_blank">AI创投营</a></li>
        <li><a href="https://c0uiiy15npu.feishu.cn/wiki/MFl0wpCVIigeQVkIifVcsgEcnJc?from=from_copylink" data-i18n="nav_about" target="_blank">关于我们</a></li>
      </ul>
    </nav>
    <div class="sidebar-footer">
      <img src="凯瑞.jpg" alt="添加好友二维码">
      <p data-i18n="sidebar_qr_text">添加好友，进群交流</p>
    </div>
  </aside>
  <main class="content shifted">
    <section class="wrapper">
      <div class="banner-header" role="banner" aria-label="首页横幅"></div>
      <div class="business-tags">
        <span class="business-tag tag-database">AI创投库</span>
        <span class="business-tag tag-meetup">AI创投会</span>
        <span class="business-tag tag-camp">AI创投营</span>
      </div>
    </section>
    
  <!-- 🚀 统计卡片 START -->
<iframe src="./stats-widget.html"
        loading="lazy"
        class="stats-widget-iframe">
</iframe>
<!-- 🚀 统计卡片 END -->
    
    <!-- Chatbox BEGIN -->
    <section class="chatbox wrapper">
      <h2 class="chat-header">
        Chat with <a href="https://svtr.ai" target="_blank">SVTR.AI</a>
      </h2>
      <iframe
        id="svtrChatFrame"
        src="https://chat.svtrglobal.com"
        title="SVTR AI Chat"
        class="chat-iframe"
        allow="clipboard-read; clipboard-write">
      </iframe>
    </section>
    <!-- Chatbox END -->
  </main>
  <footer>
    <div class="footer-text-container" data-i18n="footer_text"></div>
  </footer>
  <script>
    const translations = {
      'zh-CN': {
        title: '硅谷科技评论',
        sidebar_title: '硅谷科技评论',
        nav_ai100: 'AI 100',
        nav_ranking: 'AI创投榜',
        sub_financing: '融资概览',
        sub_industries: '赛道概览',
        sub_startups: '公司概览',
        sub_investors: '机构概览',
        sub_people: '人员概览',
        nav_database: 'AI创投库',
        nav_group: 'AI创投群',
        nav_meetup: 'AI创投会',
        nav_camp: 'AI创投营',
        nav_about: '关于我们',
        sidebar_qr_text: '添加好友，进群交流',
        notice_1: '100K+',
        link_community: '社区成员',
        notice_2: '10K+',
        link_alliance: '创业公司与投资机构',
        notice_3: '1K+',
        link_members: '权益会员',
        chat_header: 'Chat with SVTR.AI',
        join_btn: '加入候补名单',
        input_placeholder: '请输入你的问题...',
        send_btn: '发送',
        footer_text: '© 2025 SVTR.AI. All rights reserved.'
      },
      'en': {
        title: 'SVTR.AI',
        sidebar_title: 'SVTR.AI',
        nav_ai100: 'AI 100',
        nav_ranking: 'AI Ranking',
        sub_financing: 'Financing',
        sub_industries: 'Industries',
        sub_startups: 'Startups',
        sub_investors: 'Investors',
        sub_people: 'People',
        nav_database: 'AI Database',
        nav_group: 'AI Group',
        nav_meetup: 'AI Meetup',
        nav_camp: 'AI Camp',
        nav_about: 'About',
        sidebar_qr_text: 'Scan QR to join chat',
        notice_1: 'If you are an AI Practitioner, welcome to join SVTR.AI',
        link_community: 'Community',
        notice_2: 'If you are an AI Founder, welcome to join SVTR.AI',
        link_alliance: 'Ecosystem Alliance',
        notice_3: 'If you are a Member, please visit SVTR.AI',
        link_members: 'Exclusive Members Area',
        chat_header: 'Chat with SVTR.AI',
        join_btn: 'Join the Waitlist',
        email_placeholder: 'Enter your email',
        input_placeholder: 'Type your question...',
        send_btn: 'Send',
        footer_text: '© 2025 SVTR.AI. All rights reserved.'
      }
    };

    function updateLanguage(lang) {
      document.documentElement.lang = lang;
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        el.textContent = translations[lang][key] || el.textContent;
      });
      document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder');
        el.placeholder = translations[lang][key] || el.placeholder;
      });
      document.getElementById('btnZh').classList.toggle('active', lang === 'zh-CN');
      document.getElementById('btnEn').classList.toggle('active', lang === 'en');
      // 同步title
      document.title = translations[lang].title;
    }

    document.getElementById('btnZh').addEventListener('click', () => updateLanguage('zh-CN'));
    document.getElementById('btnEn').addEventListener('click', () => updateLanguage('en'));

    const toggle = document.querySelector('.menu-toggle');
    const sidebar = document.querySelector('.sidebar');
    const overlay = document.querySelector('.overlay');
    const content = document.querySelector('.content');

    toggle.addEventListener('click', () => {
      sidebar.classList.toggle('open');
      overlay.classList.toggle('active');
      content.classList.toggle('shifted');
    });
    overlay.addEventListener('click', () => {
      sidebar.classList.remove('open');
      overlay.classList.remove('active');
      content.classList.remove('shifted');
    });

    // initialize
    updateLanguage('zh-CN');

    // Automatically close sidebar after 2 seconds
    setTimeout(() => {
      const sidebarElement = document.querySelector('.sidebar');
      const overlayElement = document.querySelector('.overlay');
      const contentElement = document.querySelector('.content');
      if (sidebarElement && overlayElement && contentElement) {
        sidebarElement.classList.remove('open');
        overlayElement.classList.remove('active');
        contentElement.classList.remove('shifted');
      }
    }, 2000);

    // 新增：候补名单一键提交逻辑
    const waitlistInlineForm = document.getElementById('waitlistInlineForm');
    const waitlistInlineEmail = document.getElementById('waitlistInlineEmail');
    const waitlistInlineMsg = document.getElementById('waitlistInlineMsg');
    if (waitlistInlineForm) {
      waitlistInlineForm.onsubmit = async function(e) {
        e.preventDefault();
        waitlistInlineMsg.textContent = '';
        waitlistInlineMsg.className = 'waitlist-message';
        const email = waitlistInlineEmail.value.trim();
        if (!email) {
          waitlistInlineMsg.textContent = '请输入有效的邮箱地址。';
          waitlistInlineMsg.classList.add('waitlist-error');
          return;
        }
        if (!/^[\w\-\.]+@[\w\-]+\.[\w\-\.]+$/.test(email)) {
          waitlistInlineMsg.textContent = '邮箱格式不正确。';
          waitlistInlineMsg.classList.add('waitlist-error');
          return;
        }
        try {
          const res = await fetch('https://waitlist-api.liumin-gsm.workers.dev/', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ email })
          });
          const data = await res.json();
          if (data.ok) {
            waitlistInlineMsg.textContent = '提交成功，感谢您的预约！';
            waitlistInlineMsg.classList.add('waitlist-success');
            waitlistInlineForm.reset();
          } else {
            waitlistInlineMsg.textContent = data.error || '提交失败，请稍后重试。';
            waitlistInlineMsg.classList.add('waitlist-error');
          }
        } catch {
          waitlistInlineMsg.textContent = '提交失败，请稍后重试。';
          waitlistInlineMsg.classList.add('waitlist-error');
        }
      };
    }

  </script>
</body>
</html>
