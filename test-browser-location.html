<!DOCTYPE html>
<html>
<head>
    <title>æµ‹è¯•æµè§ˆå™¨locationä¿¡æ¯</title>
</head>
<body>
    <h2>ğŸ” æµè§ˆå™¨Locationä¿¡æ¯æµ‹è¯•</h2>
    <div id="results"></div>
    
    <script>
        function displayResults() {
            const results = document.getElementById('results');
            
            const locationInfo = `
                <h3>å½“å‰Locationä¿¡æ¯:</h3>
                <p><strong>hostname:</strong> "${window.location.hostname}"</p>
                <p><strong>port:</strong> "${window.location.port}"</p>
                <p><strong>protocol:</strong> "${window.location.protocol}"</p>
                <p><strong>href:</strong> "${window.location.href}"</p>
                
                <h3>ç¯å¢ƒæ£€æµ‹æµ‹è¯•:</h3>
                <p><strong>hostname === 'localhost':</strong> ${window.location.hostname === 'localhost'}</p>
                <p><strong>port === '3000':</strong> ${window.location.port === '3000'}</p>
                <p><strong>port (type):</strong> ${typeof window.location.port}</p>
                
                <h3>é€»è¾‘æµ‹è¯•:</h3>
            `;
            
            // æµ‹è¯•å½“å‰é€»è¾‘
            const isWranglerDev = window.location.hostname === 'localhost' && window.location.port === '3000';
            const isProduction = window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1';
            const shouldUseAPI = isProduction || isWranglerDev;
            
            const logicResults = `
                <p><strong>isWranglerDev:</strong> ${isWranglerDev}</p>
                <p><strong>isProduction:</strong> ${isProduction}</p>
                <p><strong>shouldUseAPI:</strong> ${shouldUseAPI}</p>
                
                <h3>é¢„æœŸç»“æœ:</h3>
                <p>åœ¨localhost:3000åº”è¯¥æ˜¾ç¤º <strong>shouldUseAPI: true</strong></p>
                <p>å¦‚æœæ˜¾ç¤ºfalseï¼Œè¯´æ˜portæ£€æµ‹æœ‰é—®é¢˜</p>
            `;
            
            results.innerHTML = locationInfo + logicResults;
            
            // åœ¨æ§åˆ¶å°ä¹Ÿè¾“å‡º
            console.log('ğŸ” æµè§ˆå™¨Locationè°ƒè¯•ä¿¡æ¯:');
            console.log('hostname:', window.location.hostname);
            console.log('port:', window.location.port);
            console.log('port type:', typeof window.location.port);
            console.log('isWranglerDev:', isWranglerDev);
            console.log('shouldUseAPI:', shouldUseAPI);
        }
        
        // é¡µé¢åŠ è½½åæ‰§è¡Œ
        window.addEventListener('load', displayResults);
    </script>
</body>
</html>